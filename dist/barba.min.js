!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Barba",[],e):"object"==typeof exports?exports.Barba=e():t.Barba=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="http://localhost:8080/dist",e(0)}([function(t,e,n){"function"!=typeof Promise&&(window.Promise=n(1));var r={version:"1.0.0",BaseTransition:n(5),BaseView:n(7),BaseCache:n(24),Dispatcher:n(8),Fscreen:n(12),FullScreen:n(11),HistoryManager:n(9),Pjax:n(14),Prefetch:n(25),Utils:n(6)};t.exports=r},function(t,e,n){(function(e){!function(n){function r(){}function o(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function s(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,h(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?u:a)(e.promise,t._value);var r;try{r=n(t._value)}catch(t){return void a(e.promise,t)}u(e.promise,r)})}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void f(o(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){a(t,e)}}function a(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&h(function(){t._handled||p(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,u(e,t))},function(t){n||(n=!0,a(e,t))})}catch(t){if(n)return;n=!0,a(e,t)}}var d=setTimeout,h="function"==typeof e&&e||function(t){d(t,0)},p=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(r);return s(this,new l(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(i,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var u=s.then;if("function"==typeof u)return void u.call(s,function(t){r(i,t)},n)}e[i]=s,0==--o&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},i._setImmediateFn=function(t){h=t},i._setUnhandledRejectionFn=function(t){p=t},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(e,n(2).setImmediate)},function(t,e,n){(function(t){function r(t,e){this._id=t,this._clearFn=e}var o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(3),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,function(){return this}())},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[a]=r,u(a),a++}function o(t){delete c[t]}function i(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function s(t){if(l)setTimeout(s,0,t);else{var e=c[t];if(e){l=!0;try{i(e)}finally{o(t),l=!1}}}}if(!t.setImmediate){var u,a=1,c={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){u=function(t){e.nextTick(function(){s(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),u=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},u=function(e){t.port2.postMessage(e)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var t=f.documentElement;u=function(e){var n=f.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){u=function(t){setTimeout(s,0,t)}}(),d.setImmediate=r,d.clearImmediate=o}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,function(){return this}(),n(4))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){m&&h&&(m=!1,h.length?p=h.concat(p):v=-1,p.length&&u())}function u(){if(!m){var t=o(s);m=!0;for(var e=p.length;e;){for(h=p,p=[];++v<e;)h&&h[v].run();v=-1,e=p.length}h=null,m=!1,i(t)}}function a(t,e){this.fun=t,this.array=e}function c(){}var l,f,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var h,p=[],m=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new a(t,e)),1!==p.length||m||o(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){var r=n(6),o={oldContainer:void 0,newContainer:void 0,newContainerLoading:void 0,extend:function(t){return r.extend(this,t)},init:function(t,e){var n=this;return this.oldContainer=t,this._newContainerPromise=e,this.deferred=r.deferred(),this.newContainerReady=r.deferred(),this.newContainerLoading=this.newContainerReady.promise,this.start(),this._newContainerPromise.then(function(t){n.newContainer=t,n.newContainerReady.resolve()}),this.deferred.promise},done:function(){this.oldContainer.parentNode.removeChild(this.oldContainer),this.newContainer.style.visibility="visible",this.deferred.resolve()},start:function(){}};t.exports=o},function(t,e){var n={getCurrentUrl:function(){return window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search},cleanLink:function(t){return t.replace(/#.*/,"")},xhrTimeout:5e3,xhr:function(t){var e=this.deferred(),n=new XMLHttpRequest;return n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?e.resolve(n.responseText):e.reject(new Error("xhr: HTTP code is not 200"))},n.ontimeout=function(){return e.reject(new Error("xhr: Timeout exceeded"))},n.open("GET",t),n.timeout=this.xhrTimeout,n.setRequestHeader("x-barba","yes"),n.send(),e.promise},extend:function(t,e){var n=Object.create(t);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},deferred:function(){return new function(){this.resolve=null,this.reject=null,this.promise=new Promise(function(t,e){this.resolve=t,this.reject=e}.bind(this))}},getPort:function(t){var e=void 0!==t?t:window.location.port,n=window.location.protocol;return""!=e?parseInt(e):"http:"===n?80:"https:"===n?443:void 0}};t.exports=n},function(t,e,n){var r=n(8),o=n(6),i=n(9),s=n(14),u={namespace:null,extend:function(t){return o.extend(this,t)},init:function(){var t=this;r.on("initStateChange",function(e,n){n&&n.namespace===t.namespace&&t.onLeave()}),r.on("newPageReady",function(e,n,r){t.container=r,e.namespace===t.namespace&&t.onEnter()}),r.on("transitionCompleted",function(e,n){if(e.namespace===t.namespace&&t.onEnterCompleted(),n&&n.namespace===t.namespace&&t.onLeaveCompleted(),i.queued_url.length>0){var r=i.queued_url[0];i.queued_url=[],s.goTo(r)}})},onEnter:function(){},onEnterCompleted:function(){},onLeave:function(){},onLeaveCompleted:function(){}};t.exports=u},function(t,e){var n={events:{},on:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},off:function(t,e){t in this.events!=!1&&this.events[t].splice(this.events[t].indexOf(e),1)},trigger:function(t){if(t in this.events!=!1)for(var e=0;e<this.events[t].length;e++)this.events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}};t.exports=n},function(t,e,n){var r=n(1),o=n(10),i={history:[],activePopStateEvent:!1,activePageTransition:!1,queued_url:[],add:function(t,e,r){var i=n(11),s=i.fullscreenElement(),u=o.getPageId(),a=o.getCurrentMenuItem(),c=s?document.querySelector(".fullscreen-wrapper").getBoundingClientRect().top:window.scrollY;e||(e=void 0),r||(r=void 0);var l={url:t,namespace:e,pageTitle:r,scrollPosition:c};"undefined"!=typeof ga&&ga("send",{hitType:"pageview",page:t,title:r}),this.history.push(l),s&&!this.activePopStateEvent&&this.addHistoryToBrowser(l,u,a)},addSingleUrlToHistory:function(t){return new r(function(e,n){document.title=t.pageTitle;var r=o.getPageId(),s=o.getCurrentMenuItem();i.addHistoryToBrowser(t,r,s),i.add(t.url,t.namespace,t.pageTitle),e(!0)})},addHistoryToBrowser:function(t,e,n){window.history.pushState({url:t.url,pageId:e,currentMenuItemId:n},t.title,t.url)},currentStatus:function(){return this.history[this.history.length-1]},prevStatus:function(){var t=this.history;return t.length<2?null:t[t.length-2]},setPopStateActiveState:function(t){this.activePopStateEvent=t},setPageTransitionActiveState:function(t){this.activePageTransition=t}};t.exports=i},function(t,e){var n={dataNamespace:"namespace",wrapperId:"barba-wrapper",containerClass:"barba-container",currentHTML:document.documentElement.innerHTML,currentBodyClasses:"",parseResponse:function(t){this.currentHTML=t;var e=document.createElement("div");e.innerHTML=t;var n=e.querySelector("title");return this.replaceWithNewBodyId(t),this.replaceWithNewBodyClasses(t),n&&(document.title=n.textContent),this.getContainer(e)},replaceWithNewBodyClasses:function(t){var e=/<body.*?class="([^"]*?)".*?>/,n=t.match(e)[1];this.currentBodyClasses=n},replaceWithNewBodyId:function(t){var e=/<body.*?id="([^"]*?)".*?>/,n=t.match(e);n&&(n=n[1],document.querySelector("body").id=n)},getWrapper:function(){var t=document.getElementById(this.wrapperId);if(!t)throw new Error("Barba.js: wrapper not found!");return t},getContainer:function(t){if(t||(t=document.body),!t)throw new Error("Barba.js: DOM not ready!");var e=this.parseContainer(t);if(e&&e.jquery&&(e=e[0]),!e)throw new Error("Barba.js: no container found");return e},getNamespace:function(t){return t&&t.dataset?t.dataset[this.dataNamespace]:t?t.getAttribute("data-"+this.dataNamespace):null},putContainer:function(t){t.style.visibility="hidden",this.getWrapper().appendChild(t)},parseContainer:function(t){return t.querySelector("."+this.containerClass)},getCurrentMenuItem:function(){var t=document.querySelector(".current-menu-item, .current-page-ancestor");if(t)return t.id},setCurrentMenuItem:function(t){this.clearCurrentMenuItem();var e=document.getElementById(t);e&&e.classList.add("current-menu-item")},clearCurrentMenuItem:function(){var t=document.querySelector(".current-menu-item, .current-page-ancestor");t&&t.classList.remove("current-menu-item","current-page-ancestor")},getPageId:function(){var t=document.getElementsByTagName("body")[0].id.trim();return""!==t&&(t=t.match(/\d+$/)[0]),t}};t.exports=n},function(t,e,n){var r=n(12),o=n(10),i=n(13),s={currentUrl:null,preference:!1,modal:null,isFullscreen:!1,fullscreenElement:function(){return null!==r.default.fullscreenElement},fullScreenOnChangeEvent:function(){this.isFullscreen=!this.isFullscreen},initFullScreen:function(t){r.default.fullscreenEnabled?(document.querySelector("body").classList.add("fullscreen-capable"),this.setFullScreenToggle(),this.preference=t.showFullscreenModal,this.initFullscreenModal()):document.querySelector(".fullscreen-toggle").style.display="none"},setFullScreenToggle:function(){document.querySelector(".fullscreen-toggle").addEventListener("click",function(t){t.preventDefault(),s.goFullScreen()})},replaceBodyClasses:function(){document.getElementsByTagName("body")[0].className=o.currentBodyClasses},goFullScreen:function(){r.default.requestFullscreen(document.querySelector(".fullscreen")),!1===this.preference&&(this.preference=!0,this.setFullscreenYesCookies())},initFullscreenModal:function(){!0===this.preference&&s.applyFullscreenModal()},applyFullscreenModal:function(){if(document.querySelector(".fullscreen").insertAdjacentHTML("beforeend",'\t\t\t\t<style type="text/css">\t\t\t\t\t.fullscreen-modal{\t\t        align-items: center;\t\t\t\t\t\tbackground-color: rgba(255,255,255,.8);\t\t\t\t\t\tdisplay: none;\t\t\t\t\t\theight: 100%;\t\t        justify-content: center;\t\t\t\t\t\tleft: 0;\t\t\t\t\t\tposition: fixed;\t\t\t\t\t\twidth: 100%;\t\t\t\t\t\ttext-align: center;\t\t\t\t\t\ttop: 0;\t          z-index: 100;\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t.fullscreen-modal.show{\t\t\t\t\t\tdisplay: flex;\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tbutton{\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\tbutton:hover{\t\t\t\t\t\tcursor: pointer;\t        }\t\t\t\t</style>\t      <div class="fullscreen-modal">\t      \t<div class="fullscreen-inner-wrap">\t      \t<h3>View site in fullscreen mode?</h3>\t      \t\t<button class="fullscreen-yes">Yes Please!</button>\t      \t\t<button class="fullscreen-no">No thanks.</button>\t      \t</div>\t    \t</div>\t'),this.shouldShowModal()){this.modal=document.querySelector(".fullscreen-modal");var t=this.modal.querySelector(".fullscreen-yes"),e=this.modal.querySelector(".fullscreen-no");this.modal.classList.toggle("show"),this.setModalButtonEvents(t,e)}},shouldShowModal:function(){var t=i.get("fullscreen-session");if(void 0!==t)return"true"===t;if(void 0===t){var e=i.get("fullscreen-permanent");if(void 0!==e)return"true"===e}return!0},setModalButtonEvents:function(t,e){t.addEventListener("click",this.fullscreenYes.bind(this)),e.addEventListener("click",this.fullscreenNo.bind(this))},fullscreenYes:function(){this.modal.classList.toggle("show"),r.default.requestFullscreen(document.querySelector(".fullscreen")),this.setFullscreenYesCookies()},fullscreenNo:function(){this.modal.classList.toggle("show"),this.setFullscreenNoCookies()},setFullscreenYesCookies:function(){i.set("fullscreen-permanent",!0,{expires:365}),i.set("fullscreen-session",!0)},setFullscreenNoCookies:function(){i.set("fullscreen-permanent",!1,{expires:365}),i.set("fullscreen-session",!1)}};r.default.addEventListener("fullscreenchange",s.fullScreenOnChangeEvent.bind(s),!1),t.exports=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},r=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],o=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],i=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},u="fullscreenEnabled"in s&&Object.keys(n)||r[0]in s&&r||o[0]in s&&o||i[0]in s&&i||[];e.default={requestFullscreen:function(t){return t[u[n.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[u[n.requestFullscreen]]},get exitFullscreen(){return s[u[n.exitFullscreen]].bind(s)},addEventListener:function(t,e,r){return s.addEventListener(u[n[t]],e,r)},removeEventListener:function(t,e,r){return s.removeEventListener(u[n[t]],e,r)},get fullscreenEnabled(){return Boolean(s[u[n.fullscreenEnabled]])},set fullscreenEnabled(t){},get fullscreenElement(){return s[u[n.fullscreenElement]]},set fullscreenElement(t){},get onfullscreenchange(){return s[("on"+u[n.fullscreenchange]).toLowerCase()]},set onfullscreenchange(t){return s[("on"+u[n.fullscreenchange]).toLowerCase()]=t},get onfullscreenerror(){return s[("on"+u[n.fullscreenerror]).toLowerCase()]},set onfullscreenerror(t){return s[("on"+u[n.fullscreenerror]).toLowerCase()]=t}}},function(t,e,n){var r,o;!function(i){var s=!1;if(r=i,void 0!==(o="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o),s=!0,t.exports=i(),s=!0,!s){var u=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=u,a}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(n){function r(e,o,i){var s;if("undefined"!=typeof document){if(arguments.length>1){if(i=t({path:"/"},r.defaults,i),"number"==typeof i.expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(t){}o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,!0!==i[c]&&(a+="="+i[c]));return document.cookie=e+"="+o+a}e||(s={});for(var l=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var h=l[d].split("="),p=h.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var m=h[0].replace(f,decodeURIComponent);if(p=n.read?n.read(p,m):n(p,m)||p.replace(f,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(t){}if(e===m){s=p;break}e||(s[m]=p)}catch(t){}}return s}}return r.set=r,r.get=function(t){return r.call(r,t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}return e(function(){})})},function(t,e,n){var r=n(6),o=n(8),i=n(15),s=n(24),u=n(9),a=n(10),c={Dom:a,History:u,Cache:s,cacheEnabled:!0,transitionProgress:!1,ignoreClassLink:"no-barba",start:function(t){t=void 0!==t?t:{},t={showFullscreenModal:void 0!==t.showFullscreenModal&&t.showFullscreenModal},this.init(t)},init:function(t){var e=this.Dom.getContainer(),r=this.Dom.getWrapper(),i=n(11);r.setAttribute("aria-live","polite");var s=document.querySelector("title"),u=this.getCurrentUrl(),a=this.Dom.getPageId(),l=this.Dom.getCurrentMenuItem();this.History.add(u,this.Dom.getNamespace(e),s),o.trigger("initStateChange",this.History.currentStatus()),o.trigger("newPageReady",this.History.currentStatus(),{},e,this.Dom.currentHTML),o.trigger("transitionCompleted",this.History.currentStatus()),this.bindEvents(),c.History.addHistoryToBrowser({url:u,pageId:a,currentMenuItemId:l},a,l),i.initFullScreen(t)},bindEvents:function(){document.addEventListener("click",this.onLinkClick.bind(this)),window.addEventListener("popstate",function(t){c.History.setPopStateActiveState(!0),c.onStateChange(window.location.href,t),c.History.setPageTransitionActiveState(!0)})},getCurrentUrl:function(){return r.cleanLink(r.getCurrentUrl())},goTo:function(t){var e=this.Dom.getPageId(),n=this.Dom.getCurrentMenuItem(),r=document.querySelector("title").textContent;c.History.addHistoryToBrowser({url:t,title:r,currentMenuItemId:n},e,n),c.History.setPageTransitionActiveState(!0),this.onStateChange(t)},forceGoTo:function(t){window.location=t},load:function(t){var e,n=r.deferred(),o=this;return e=this.Cache.get(t),e||(e=r.xhr(t),this.Cache.set(t,e)),e.then(function(t){var e=o.Dom.parseResponse(t);o.Dom.putContainer(e),o.cacheEnabled||o.Cache.reset(),n.resolve(e)},function(){o.forceGoTo(t),n.reject()}),n.promise},getHref:function(t){if(t)return t.getAttribute&&"string"==typeof t.getAttribute("xlink:href")?t.getAttribute("xlink:href"):"string"==typeof t.href?t.href:void 0},onLinkClick:function(t){for(var e=n(11),r=t.target;r&&!this.getHref(r);)r=r.parentNode;if(null!==r){var i=this.preventCheck(t,r);if("same-page"===i)t.preventDefault();else if(i){t.stopPropagation(),t.preventDefault(),o.trigger("linkClicked",r,t);var s=this.getHref(r);e.fullscreenElement()?this.onStateChange(s):this.goTo(s)}}},preventCheck:function(t,e){if(!window.history.pushState)return!1;var n=this.getHref(e),o=r.cleanLink(n),i=o===r.cleanLink(location.href);return!(!e||!n)&&(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)&&((!e.target||"_blank"!==e.target)&&(window.location.protocol===e.protocol&&window.location.hostname===e.hostname&&(r.getPort()===r.getPort(e.port)&&(!(n.indexOf("#")>-1&&i)&&((!e.getAttribute||"string"!=typeof e.getAttribute("download"))&&(i?"same-page":!e.classList.contains(this.ignoreClassLink)&&!e.parentNode.classList.contains(this.ignoreClassLink))))))))},getTransition:function(){return i},onStateChange:function(t,e){if(e=void 0!==e?e:null,null!==e?(e.state&&a.setCurrentMenuItem(e.state.currentMenuItemId),t=document.location.href):void 0===t&&(t=this.getCurrentUrl()),this.transitionProgress&&t!==this.History.queued_url[0])return this.History.queued_url[0]=t,!1;if(this.History.currentStatus().url===t)return!1;var n=this.load(t);this.History.add(t,null,document.querySelector("title").textContent);var r=Object.create(this.getTransition());this.transitionProgress=!0,o.trigger("initStateChange",this.History.currentStatus(),this.History.prevStatus());var i=r.init(this.Dom.getContainer(),n);n.then(this.onNewContainerLoaded.bind(this)),i.then(this.onTransitionEnd.bind(this))},onNewContainerLoaded:function(t){this.History.currentStatus().namespace=this.Dom.getNamespace(t),o.trigger("newPageReady",this.History.currentStatus(),this.History.prevStatus(),t,this.Dom.currentHTML)},onTransitionEnd:function(){this.transitionProgress=!1,o.trigger("transitionCompleted",this.History.currentStatus(),this.History.prevStatus())}};t.exports=c},function(t,e,n){var r=n(5),o=n(16),i=n(9),s=n(1),u=r.extend({start:function(){s.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this)).then(this.finish.bind(this))},finish:function(){document.body.scrollTop=0,this.done()},fadeOut:function(){var t=this;return new s(function(e,n){t.fadeElementOut(t.oldContainer).then(function(){!1===i.activePopStateEvent?document.querySelector(".fullscreen-wrapper").scrollIntoView():Barba.FullScreen.fullscreenElement()&&u.fullscreenSetScrollPosition(Math.abs(i.history[i.history.length-2].scrollPosition)),e(!0)})})},fadeIn:function(){Barba.FullScreen.replaceBodyClasses();var t=this.newContainer;t.style.display="none",t.style.opacity=0,t.style.visibility="visible",this.fadeElementIn(t).then(function(){if(!1===Barba.FullScreen.fullscreenElement())""!==window.location.hash&&u.goTo(document.querySelector("#"+window.location.hash));else{var t=i.history[i.history.length-1].url.match(/#(.*)/);null!==t&&(t=t[1],document.getElementById(t).scrollIntoView())}})},goTo:function(t){o(t,{offset:0,ease:"out-bounce",duration:1500}),event.preventDefault()},fullscreenSetScrollPosition:function(t){o(".fullscreen",{offset:t,ease:"out-bounce",duration:1500})},fadeElementOut:function(t){return t.style.opacity=1,new s(function(e,n){!function n(){(t.style.opacity-=.05)<0?e(!0):requestAnimationFrame(n)}()})},fadeElementIn:function(t,e){return t.style.opacity=0,t.style.display=e||"block",new s(function(e,n){!function n(){var r=parseFloat(t.style.opacity);(r+=.05)>1?e(!0):(t.style.opacity=r,requestAnimationFrame(n))}()})}});t.exports=u},function(t,e,n){function r(t,e,n){var r=document.body,o=document.documentElement,i=t.getBoundingClientRect(),s=o.clientHeight,u=Math.max(r.scrollHeight,r.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);e=e||0;var a;a="bottom"===n?i.bottom-s:"middle"===n?i.bottom-s/2-i.height/2:i.top;var c=u-s;return Math.min(a+e+window.pageYOffset,c)}var o=n(17);t.exports=function(t,e){if(e=e||{},"string"==typeof t&&(t=document.querySelector(t)),t)return o(0,r(t,e.offset,e.align),e)}},function(t,e,n){function r(t,e,n){function r(){s(r),a.update()}n=n||{};var u=o(),a=i(u).ease(n.ease||"out-circ").to({top:e,left:t}).duration(n.duration||1e3);return a.update(function(t){window.scrollTo(0|t.left,0|t.top)}),a.on("end",function(){r=function(){}}),r(),a}function o(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}var i=n(18),s=n(23);t.exports=r},function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);this._from=t,this.ease("linear"),this.duration(500)}var o=n(19),i=n(20),s=n(21),u=n(22);t.exports=r,o(r.prototype),r.prototype.reset=function(){return this.isArray="array"===s(this._from),this._curr=i(this._from),this._done=!1,this._start=Date.now(),this},r.prototype.to=function(t){return this.reset(),this._to=t,this},r.prototype.duration=function(t){return this._duration=t,this},r.prototype.ease=function(t){if(!(t="function"==typeof t?t:u[t]))throw new TypeError("invalid easing function");return this._ease=t,this},r.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},r.prototype.step=function(){if(!this._done){var t=this._duration,e=Date.now();if(e-this._start>=t)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,r=this._to,o=this._curr,i=this._ease,s=(e-this._start)/t,u=i(s);if(this.isArray){for(var a=0;a<n.length;++a)o[a]=n[a]+(r[a]-n[a])*u;return this._update(o),this}for(var c in n)o[c]=n[c]+(r[c]-n[c])*u;return this._update(o),this}},r.prototype.update=function(t){return 0==arguments.length?this.step():(this._update=t,this)}},function(t,e){function n(t){if(t)return r(t)}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){function r(t){switch(o(t)){case"object":var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));return e;case"array":for(var e=new Array(t.length),i=0,s=t.length;i<s;i++)e[i]=r(t[i]);return e;case"regexp":var u="";return u+=t.multiline?"m":"",u+=t.global?"g":"",u+=t.ignoreCase?"i":"",new RegExp(t.source,u);case"date":return new Date(t.getTime());default:return t}}var o;try{o=n(21)}catch(t){o=n(21)}t.exports=r},function(t,e){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":typeof(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t))}},function(t,e){e.linear=function(t){return t},e.inQuad=function(t){return t*t},e.outQuad=function(t){return t*(2-t)},e.inOutQuad=function(t){return t*=2,t<1?.5*t*t:-.5*(--t*(t-2)-1)},e.inCube=function(t){return t*t*t},e.outCube=function(t){return--t*t*t+1},e.inOutCube=function(t){return t*=2,t<1?.5*t*t*t:.5*((t-=2)*t*t+2)},e.inQuart=function(t){return t*t*t*t},e.outQuart=function(t){return 1- --t*t*t*t},e.inOutQuart=function(t){return t*=2,t<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},e.inQuint=function(t){return t*t*t*t*t},e.outQuint=function(t){return--t*t*t*t*t+1},e.inOutQuint=function(t){return t*=2,t<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},e.inSine=function(t){return 1-Math.cos(t*Math.PI/2)},e.outSine=function(t){return Math.sin(t*Math.PI/2)},e.inOutSine=function(t){return.5*(1-Math.cos(Math.PI*t))},e.inExpo=function(t){return 0==t?0:Math.pow(1024,t-1)},e.outExpo=function(t){return 1==t?t:1-Math.pow(2,-10*t)},e.inOutExpo=function(t){return 0==t?0:1==t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},e.inCirc=function(t){return 1-Math.sqrt(1-t*t)},e.outCirc=function(t){return Math.sqrt(1- --t*t)},e.inOutCirc=function(t){return t*=2,t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.inBack=function(t){var e=1.70158;return t*t*((e+1)*t-e)},e.outBack=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},e.inOutBack=function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},e.inBounce=function(t){return 1-e.outBounce(1-t)},e.outBounce=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.inOutBounce=function(t){return t<.5?.5*e.inBounce(2*t):.5*e.outBounce(2*t-1)+.5},e["in-quad"]=e.inQuad,e["out-quad"]=e.outQuad,e["in-out-quad"]=e.inOutQuad,e["in-cube"]=e.inCube,e["out-cube"]=e.outCube,e["in-out-cube"]=e.inOutCube,e["in-quart"]=e.inQuart,e["out-quart"]=e.outQuart,e["in-out-quart"]=e.inOutQuart,e["in-quint"]=e.inQuint,e["out-quint"]=e.outQuint,e["in-out-quint"]=e.inOutQuint,e["in-sine"]=e.inSine,e["out-sine"]=e.outSine,e["in-out-sine"]=e.inOutSine,e["in-expo"]=e.inExpo,e["out-expo"]=e.outExpo,e["in-out-expo"]=e.inOutExpo,e["in-circ"]=e.inCirc,e["out-circ"]=e.outCirc,e["in-out-circ"]=e.inOutCirc,e["in-back"]=e.inBack,e["out-back"]=e.outBack,
e["in-out-back"]=e.inOutBack,e["in-bounce"]=e.inBounce,e["out-bounce"]=e.outBounce,e["in-out-bounce"]=e.inOutBounce},function(t,e){function n(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-r)),o=setTimeout(t,n);return r=e,o}e=t.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||n;var r=(new Date).getTime(),o=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;e.cancel=function(t){o.call(window,t)}},function(t,e,n){var r=n(6),o={data:{},extend:function(t){return r.extend(this,t)},set:function(t,e){this.data[t]=e},get:function(t){return this.data[t]},reset:function(){this.data={}}};t.exports=o},function(t,e,n){var r=n(6),o=n(14),i={ignoreClassLink:"no-barba-prefetch",init:function(){if(!window.history.pushState)return!1;document.body.addEventListener("mouseover",this.onLinkEnter.bind(this)),document.body.addEventListener("touchstart",this.onLinkEnter.bind(this))},onLinkEnter:function(t){for(var e=t.target;e&&!o.getHref(e);)e=e.parentNode;if(e&&!e.classList.contains(this.ignoreClassLink)){var n=o.getHref(e);if(o.preventCheck(t,e)&&!o.Cache.get(n)){var i=r.xhr(n);o.Cache.set(n,i)}}}};t.exports=i}])});